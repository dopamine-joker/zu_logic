syntax = "proto3";

option go_package="github.com/dopamine-joker/zu_logic/proto";
package proto;

service RpcLogicService {
  rpc Login(LoginRequest) returns (LoginResponse);
  rpc TokenLogin(TokenLoginRequest) returns (TokenLoginResponse);
  rpc Register(RegisterRequest) returns (RegisterResponse);
  rpc Logout(LogoutRequest) returns (LogoutResponse);
  rpc CheckAuth(CheckAuthRequest) returns (CheckAuthResponse);
}

message User {
  int32 Id = 1;
  string Email = 2;
  string Name = 3;
}

//LoginRequest 登陆请求
message LoginRequest {
  string Email = 1;
  string Password = 2;
}

//LoginResponse 登陆响应
message LoginResponse {
  int32 Code = 1;
  string AuthToken = 2;
  User User = 3;
}

//LogoutRequest 登出请求
message LogoutRequest {
  string Token = 1;
}

//LogoutResponse 登出响应
message LogoutResponse {
  int32 Code = 1;
}

//TokenLoginRequest token登陆请求
message TokenLoginRequest {
  string Token = 1;
}

//TokenLoginResponse token登陆响应
message TokenLoginResponse {
  int32 Code = 1;
  string AuthToken = 2;
  User User = 3;
}

//RegisterRequest 注册请求
message RegisterRequest {
  string Email = 1;
  string Name = 2;
  string Password = 3;
}

//RegisterResponse 注册响应
message RegisterResponse {
  int32 Code = 1;
}

//CheckAuthRequest token认证请求
message CheckAuthRequest {
  string AuthToken = 1;
}

//CheckAuthResponse token认证响应
message CheckAuthResponse {
  int32 Code = 1;
  string AuthToken = 2;
  User User = 3;
}
